##### 67강 : 랜드스케이프 프로젝트 구축하기
- 초기 설정
  
![image](https://github.com/user-attachments/assets/6b316e91-3bff-4693-853c-42ed9c41b7e2)

##### 68강 : 기본 조명 설정
- Scene에 Lighting 설정
- Main Light Source : Directional Light(Sun/Moon)
- We need a sky : Sky Atmosphere + Volumetric Cloud + Sky Light
- Get rid of the black void : Height Fog
- PostProcessVolume 설정 : Infinte + auto 설정
- 이 모든 과정을 Light Mixer로 쉽게 가능
  
![image](https://github.com/user-attachments/assets/efe04f29-3258-4cf2-b35c-a3c0f84cf853)


##### 69강 : 간단한 조각하기(Sculpting)
- Landscape 모드를 통해 원하는 모양의 지형 생성 가능
- 사용법 참고 : https://www.youtube.com/watch?v=gwLotMY_Fe8
  
![image](https://github.com/user-attachments/assets/957399ea-da11-46bc-9f18-8d86546cec89)

##### 70강 : 머터리얼 함수
- Material Function을 통해 반복되는 Material Node 작업의 재사용성 및 모듈성 증가
  
![image](https://github.com/user-attachments/assets/12ea4794-a2e9-440e-a6a2-e2b48a517bbb)

![image](https://github.com/user-attachments/assets/12fd7b9f-142c-4efc-994d-e79704250fe1)

##### 71강 : 머터리얼 함수로 베이스 컬러 제어
- 이를 통해 Material 함수 제어 가능
  
![image](https://github.com/user-attachments/assets/9b27ebf4-598d-4f5c-8eee-02099c8f6c0d)

##### 72강 : 카메라 Depth Fade 표현식
- Mask : 머터리얼 내 여러가지 표면 유형을 정의할 때 사용(필터), 0-1사이 값을 가짐
-  Tiling 문제 : 큰 Mesh에 Texture를 깔게 되면 의도치 않은 반복적인 패턴이 나타날 수 있다.
  
![image](https://github.com/user-attachments/assets/3c971794-a829-449f-b8d5-b35926a6c4ad)

- 첫 번째 해결법 : Camera Depth Fade로 Object가 카메라로부터 떨어진 정도에 따라 변화를 줌. 카메라 주변 검정(0) -> 멀어질수록(1)
  
![image](https://github.com/user-attachments/assets/73007529-b7f4-4130-9335-3b30a95dfba2)

- FadeFallOff : 완전 하얗게 되는 거리(1)
- FadeStartDistance : Fade가 시작되는 거리
- 활용 : Lerp를 이용하여 거리에 따라 Texture의 크기를 다르게 설정
  
![image](https://github.com/user-attachments/assets/fcf5a752-847a-4c5e-ad86-b82c6b188ccb)

##### 73강 : 텍스쳐 바밍(Bombing)
- Tiling을 깨는 2번째 수단 : Texture Bombing
- 이때, UVs가 Texture Coordinate가 아닌 Landscape Coords임에 주의
- 이를 통해, Material Function 수정
  
![image](https://github.com/user-attachments/assets/a7263f4e-f769-4fc9-a90a-338db6c03319)

- 수정한 Material Function 적용
  
![image](https://github.com/user-attachments/assets/f4f37032-dbfe-4248-b73c-84ec72e6e640)

##### 74강 : 번형 매크로
- Macro Variation : 기존의 Tiling에 더욱 변형을 추가해주는 기법
- Starter Content의 Metal Material에서 쉽게 찾을 수 있음. -> 이를 통해 MF 생성
- 노드
  
![image](https://github.com/user-attachments/assets/fdf2d30b-851e-4d14-95f5-6c5094b4234a)

- 기존의 MF에 추가(Static Switch 사용 주목)
  
![image](https://github.com/user-attachments/assets/65eb0c69-a2af-4a62-a41d-869dc48ef322)

##### 75강 : 랜드스케이프 내 Specular
- Landscape Material의 퀄리티를 높이기 위해 Specular 설정을 추가(플라스틱 같은 느낌을 제거)
  
![image](https://github.com/user-attachments/assets/b76eda98-3f64-4c7a-b575-ab6c6bff3549)

##### 76강 : 랜드스케이프 내 Normal
- Landscape Material의 퀄리티를 높이기 위해 Normal 설정을 추가
  
![image](https://github.com/user-attachments/assets/00c86891-3a36-4826-a24f-dd12b28b5955)

- 공통된 입력값이 여러 곳에서 쓰일 시 Named Reroute를 통해 관리

##### 77강 : 랜드스케이프 내 ORD
- Landscape Material의 퀄리티를 높이기 위해 ORD 설정을 추가
  
![image](https://github.com/user-attachments/assets/fb412d9a-961e-4d9a-bfa1-cd13b45595c5)

- 예상한대로 Constant4Vector로 4개의 변수 동시 설정 가능

![image](https://github.com/user-attachments/assets/c287e747-9ee5-4f66-bd17-b317efa27c44)


##### 79강 : Specular 및 변형 매크로 제어
- Specular 강도 제어 추가

![image](https://github.com/user-attachments/assets/b7c5b194-93f0-4fc9-a2bf-ec9ff130788b)

- Macro Variation 강도 추가
- MF에서 꺼낸 후 Material에 직접 추가/이를 위해 GetMaterial Attribute 활용
  
![image](https://github.com/user-attachments/assets/24525721-5af7-4537-a9d4-e425f5d606be)

##### 80강 : 랜드스케이프 레이어 블렌드
- 랜드스케이프는 보통 여러 가지의 레이어(머터리얼)로 구성
- 레이어를 여러 개 만드는 법은 단순한 복사
  
![image](https://github.com/user-attachments/assets/fc548948-289f-43c9-a598-4ab724f65df5)

- 이를 연결하기 위해서는 Landscape Blend 노드 필요
  
![image](https://github.com/user-attachments/assets/50a150a6-4086-4e1b-817f-b49fba379ccd)

- 연결 후 Landscape Mode의 Paint로 가서 Layer 확인
  
![image](https://github.com/user-attachments/assets/77d4574d-5ea4-4a3f-8adb-c78b2d1294b8)

- 이때, Layer가 뜨지 않을 경우 MI로 들어가서 Texture 초기화후 재할당

##### 81강 : 가이아로 랜드스케이프 만들기
- Landscape Blend 과정에서 경계선이 너무 잘 보인다면 Macro Variation의 Texture Sample의 Mip Bias 변경
  
![image](https://github.com/user-attachments/assets/65c10f9e-182a-48cc-a2bf-6d53d9cfd5eb)

- Gaea 프로그램을 통해 간단하게 랜드스케이프 모형 생성 가능
- 다음과 같이 노드를 통해 맵 생성 후 편집 노드로 상세 조절, Combine 노드로 지형 혼합
- 노드 선택 시 미리보기 가능, 이때 노드 하나에 미리보기 고정시키고 싶으면 F키로 Pin 설정
  
![image](https://github.com/user-attachments/assets/32e60752-2b3c-49e0-8b3d-1d9cb9652982)


##### 82강 : 가이아에서 랜드스케이프 출력하기
- 다음과 같이 Mark For Export 후 Build 실행
- 첫 번째는 Height, Flow맵, 두 번째는 Slop맵이 될 것
- 이때 Build 형식은 PNG64, 해상도 크기는 1024 이하가 되도록 설정
  
![image](https://github.com/user-attachments/assets/68356af2-3b05-4402-b631-cd4979031321)

##### 83강 : 가이아에서 랜드스케이프 불러오기
- Height Map의 경우 Landscape Mode의 Mange->New->Import From File을 통해 불러오기
  
![image](https://github.com/user-attachments/assets/6d10be9b-5b6c-47ee-841b-1b10efe4ff7d)

- Landscape Mode->Manage->Import->Layer에서 특정 Map에 특정 Material 할당 가능(사진은 Flow Map에 Soil Material을 할당한 모습)
  
![image](https://github.com/user-attachments/assets/cd1cf8ed-a8fa-4cc9-8c12-3a55dc099bd2)


##### 86강 : 경사 마스크 생성하기
- 경사마스크 생성하기
- Dot을 이용해서 VertexNormal이 Z축 방향에서 틀어진 정도를 계산
- Power를 통해 강도, CheapContrast를 통해 경계선을 조정
- Saturate로 1~-1 범위를 1~0으로 바꾼 후 1-x를 통해 반전
  
![image](https://github.com/user-attachments/assets/d1051087-89a4-4adb-b004-f9cf820bf9e3)

##### 87강 : 랜드스케이프 머터리얼에서 경사 마스크 사용하기
- Material Function 제작 : 2개의 머터리얼 블렌드를 위해 BlendMaterialAttributes 노드 사용
- 이때, Alpha값은 위에 제작한 Mask 사용
  
![image](https://github.com/user-attachments/assets/8e394344-2cb6-49e3-87b0-e83f8eb835e6)

- AutoLandscape Material 적용
  
![image](https://github.com/user-attachments/assets/b948b1ab-e03d-4c45-8c4d-ab4c407b5b0f)

![image](https://github.com/user-attachments/assets/fcc5cb49-1c00-47eb-90d9-edf3eb3c5fd3)

##### 89강 : Triplanar 프로젝션 (세 개의 다른 이미지를 투사)
- 기존의 늘어남 문제를 해결하기 위해 UV Tile 사용(한 방향 투사) -> 평평하지 않은 곳에서 늘어남 발생
  
![image](https://github.com/user-attachments/assets/67a82647-8ff6-4a0f-9304-4d1b5f299079)

- 이를 해결하기 위한 3방향 투사 기법 Triplanar 사용
  
![image](https://github.com/user-attachments/assets/e7e52516-1178-48cc-b9f1-6a46fa0c5ad2)

- 강의에서 제공된 Triplanar Material Function 사용(원래는 WorldAlignedTexture)
  
![image](https://github.com/user-attachments/assets/c0dea0a0-442c-4bea-aa67-8f098ba3eb1d)

##### 90강 : 경사 레이어를 위해 Triplanar 프로젝션 사용하기
- 기존의 Landscape Material Function에서 TextureBombing 함수를 Triplanar로 대체
  
![image](https://github.com/user-attachments/assets/d88c3d00-fed1-414a-a477-02268a8c092b)

##### 92강 : 높이 마스크 생성하기
- 높이에 따른 변화를 주기 위한 Height Mask 생성(ex. 산 정상 눈 머터리얼)
- Absolute World Position 노드를 사용하여 높이 정보 불러오기
- Subtract를 통해 높이 조절
- Divide를 통해 FallOff 조절
  
![image](https://github.com/user-attachments/assets/13abaa9a-e702-453f-9e91-1c2c73e50369)

- 결과 예시
  
![image](https://github.com/user-attachments/assets/6d16880b-d76d-4f1e-9e7b-b41528c7c91d)

##### 93강 : 랜드스케이프 머터리얼에서 높이 마스크 사용하기
- 앞서 만든 Height Mask를 통해 material function 생성 및 사용
- 생성
  
![image](https://github.com/user-attachments/assets/4f91f6ea-85d1-4f7b-8951-7f0180662b05)

- 사용
  
![image](https://github.com/user-attachments/assets/3dd174ed-024f-4013-92e2-14d949edf646)


##### 94강 : 높이 마스크 추가 조정
- 높이 마스크에서 경계 부분에 무작위성을 추가하기 위해 Slope Mask 활용
  
![image](https://github.com/user-attachments/assets/0fa22875-c4bb-431e-a5cc-77673b66196c)

- Before
  
![image](https://github.com/user-attachments/assets/1724a309-45ad-4894-bb79-ffa0cf15bd5b)

- After
  
![image](https://github.com/user-attachments/assets/66407268-13e5-4e26-a59f-e38ebd1913e4)

- 이를 실제 적용(Material Function 수정)
- 출력 값을 Mask->Material로 변경(이때, Mask는 Saturate가 필수 0-1값)
- Landscape Material 수정

##### 95강 : 높이 마스크와 경사 레이어 병행
- Scale Issue : 높이에 따라 Texture Scale 문제 발생(낮은 곳을 맞췄더니 높은 곳에서 Tiling 발생 등)
- 해결법 : 높은 곳에는 Triplanar, 낮은 곳에는 Texture Bombing 적용 -> 이를 위해 Height Blend-Blend Material Attribute 사용
![[Pasted image 20241001214451.png]]

#### Unreal Engine 5 : 강의 하나로 머터리얼 완벽 마스터하기  (Material 편)
##### 97강 : 실시간 가상 텍스처(RVT)
- RVT : Landscape 머터리얼의 전체 머터리얼 결과를 Cache 하는 것
- RVT 장점 :
	1. Shader Complexity를 줄여 성능을 향상
	2. Non-Landscape Actor와 Blend 가능
- RVT 단점 : 
	1. dynamic한 것과 작동 불가
	2. ex) CameraDepthFade, Time, World Position Offset(떠있는돌 등)

##### 98강 : 실시간 가상 텍스처 구축하기
- RVT 설정
	1. Project Setting에서 RVT Support 허용
	![[Pasted image 20241001220028.png]]
	2. Material Data의 Output을 RVT로 전달(RVT Node 사용)
		- 최종 결과 Name Reroute 이용해서 빼내기
		![[Pasted image 20241001220245.png]]
		- 이를 통해 RVT Output 연결
		![[Pasted image 20241001220549.png]]
	3. RVT Asset을 Landscape에 할당
		- RVT 생성
		![[Pasted image 20241001220923.png]]
		- Landscape detail -> Virtual 검색 -> Draw In VT 를 통해 RVT 할당
		![[Pasted image 20241001220952.png]]
	4. RVT Volume 버튼을 눌러 Volume 측정
		![[Pasted image 20241001221238.png]]
		- Outliner를 통해 생성 확인
		![[Pasted image 20241001221300.png]]
	5. 저장된 Data를 Landscaep에 다시 사용(Runtime Virtual Texture Sample 노드 사용)
		![[Pasted image 20241001221837.png]]
		![[Pasted image 20241001222339.png]]
- 전체 사용에 있어 Normal의 WorldSpcae - TangentSpace간 전환 주의
  
##### 99강 : 실시간 가상 텍스처 블랜드 생성하기
- 블랜드 필요 -> 마스크 필요
![[Pasted image 20241001230923.png]]
- A에는 원본 머터리얼, B에는 랜드스케이프 머터리얼 적용
![[Pasted image 20241001231418.png]]
- 어떤 마스크가 필요할까?? -> 위에는 Black 아래는 White + Fall Out
- Alpha를 위해 Landscape의 Height 정보가 저장된 RVT가 새로 필요 -> RVT_Height 생성
- RVT_Height 생성 후 클릭해서 Vitual Texture content 변경
![[Pasted image 20241001231100.png]]
- RVT_Height를 Landscape에 추가
![[Pasted image 20241001231223.png]]
- 이때 Volume 정보는 동일한 것을 사용하므로 기존의 것 복사후 이름 변경->할당 변경
- 만들어진 RVT_Height 사용해서 Mask 생성(Height Mask와 비슷함)
![[Pasted image 20241001232251.png]]

##### 100강 : 머터리얼 내 실시간 가상 텍스처 사용하기
- Static Mesh에 적용하기 위해 Material Function 생성
![[Pasted image 20241001233659.png]]
- 적용하기 위해 해당 Static Mesh의 Material Instance -> Master Material 찾은 후 열기 이후 최종 출력에 해당 Function 넣으면 끝

#### Unreal Engine 5 : 강의 하나로 머터리얼 완벽 마스터하기  (Material 편)
##### 101강 : 자동 폴리지
- Auto Foliage가 가능한 2가지 방법과 장단점(영상에서는 첫번 째 방법 사용)
![[Pasted image 20241002143710.png]]

##### 102강 : 랜드스케이프 그래스 타입
- LGT 생성
![[Pasted image 20241002144903.png]]
- LGT 설정
![[Pasted image 20241002144923.png]]
	+ Grass Mesh에서 원하는 Static Mesh 설정
	+ Grass Density로 밀도 설정
	+ Start/End Cull Distance 이용해서 Mesh가 거리에 따라 사라지게 해서 성능 향상
	+ Min LOD로 최소 LOD 설정(LOD : Level Of Detail로 거리에 따라 사용하는 triangle의 수가 달라지게 하여 성능 향상)
	+ Scale 설정을 바꿔 크기의 무작위성 추가
- LGT 사용을 위해 Node 생성
![[Pasted image 20241002145906.png]]
![[Pasted image 20241002145921.png]]

##### 103강 : 폴리지 마스크 생성하기
- 높이 마스크를 반전하여 낮은 곳에만 풀이 생기도록 설정
- 경사에는 풀이 자라면 안되므로 Height Mask에서 Slope Mask를 Subtract
![[Pasted image 20241002155628.png]]
- Material Function에서 Function Output 노드를 통해 Output 핀 추가 가능
  
##### 104강 : 폴리지 성능 최적화
- 성능 최적화 방법
	1. Console Command(~ 두 번 클릭 시 콘솔 창)
		r.Shadow.Virtual.NonNanite.IncludeInCoarsePages 0
		r.Shadow.Virtual.UseFarShadowCulling 0
	2. Foliage 설정 변경
		- Dynamic Shadow 끄기
		- LOD 설정 변경
		- Cull Distance 변경
		- Disable Wind 및 Move 제거(Master Material의 Time Node 연결 제거)
	3. Project Setting에서 virtual shadow map 설정 변경
	
##### 105강 : 그래스 페이드 인
- Foliage Fade Material Function 생성
![[Pasted image 20241002162409.png]]
	+ PerInstanceFadeAmount : Cull Distance 정보를 불러와 Mask 생성
	+ DitherTemporalAA : Mesh에 구멍을 뚫어줌
- 생성한 Function을 Master Material의 Opacity Mask 핀 연결 사이 추가
![[Pasted image 20241002162519.png]]
- LGT에 Attribute(index)를 추가해서 다양한 요소들을 한 번에 추가 가능
![[Pasted image 20241002163733.png]]

##### 106강 : 섹션 과제4 : 자동 나무
- 동일한 작업 진행
![[Pasted image 20241002172056.png]]

##### 107강 : 주변 환경 차단하기
- 무료 Asset인 Landscape Backgrounds 활용
- 큰 카메라 이동거리가 필요할 시 북마크 활용
	+ 북마크 설정 : Ctrl + 0~9
	+ 북마크 이동 : 0~9

##### 108강 : 후처리 작업
- 흙레이어 페인트시 그 위의 Grass, Tree도 지워지게 하기
![[Pasted image 20241002172909.png]]
- PostProcess Volume 설정을 조정해서 다양한 분위기 연출 가능
	1. exposure : 노출
	2. ctrl+L로 라이트 각도 설정
	3. Temperature으로 색온도 조절 가능
	4. Lens Flare로 화면에 렌즈 플레어(햇빛 효과) 생성 가능
- Directional Light의 Light Shafts->Light Shafts Bloom으로 햇빛 연출 가능
  
##### 110강 : 섹션 마무리
- 나무 등의 LGT가 경사에서 기울어져서 올라오는 현상을 없애려면 LGT 파일 이동 후 Align to Surface 항목 비활성화
![[Pasted image 20241002205930.png]]
- 여러 Foliage Instance의 Detail을 수정해야할 경우 GlobalFoliageActor가 있는지 검색. 이를 통해 색상, 계절, 바람 등의 다양한 변경사항을 전체 Foliage에 동시 적용 가능
- Foliage만 따로 Paint 하고 싶을 시 Foliage Mode활용(Select에서 선택 후 Paint를 통해 그리기)
![[Pasted image 20241002210151.png]]


